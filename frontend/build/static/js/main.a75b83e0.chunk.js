(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{165:function(e,t,n){e.exports=n(276)},170:function(e,t,n){},171:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},173:function(e,t,n){},276:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(23),l=n.n(o),c=(n(170),n(11)),i=(n(171),n(70)),u=(n(173),n(10)),s=Object(a.createContext)({restaurantName:"",token:null,loggedIn:!1}),d=n(43),f=function(e){var t=e.currentTypes,n=e.setTypes,a=e.foodTypes;return r.a.createElement("div",{style:{flexDirection:"row",padding:8}},a.map(function(e){return r.a.createElement(u.e,{key:e,onClick:function(){t.includes(e)?(t.splice(t.indexOf(e),1),n(Object(d.a)(t))):n([].concat(Object(d.a)(t),[e]))},label:e,variant:t.includes(e)?"default":"outlined",padding:4})}))},m=["Burger","Kebab","Pizza"],g=function(e){var t=e.name,n=e.latLng,a=e.types;return fetch("/restaurant/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t,location:n,foodTypes:a})})};var p={container:{flex:1,alignItems:"center",justifyContent:"center",height:!1,paddingTop:"200px",alignSelf:"center"},card:{flexDirection:"column",width:"400px"},content:{flexDirection:"column"}},b=function(){var e=Object(a.useState)(""),t=Object(c.a)(e,2),n=t[0],o=t[1],l=Object(a.useState)({lat:"",lng:""}),i=Object(c.a)(l,2),d=i[0],b=i[1],v=Object(a.useState)([]),y=Object(c.a)(v,2),E=y[0],O=y[1],h=d.lat,j=d.lng,k=Object(a.useContext)(s),w=Object(c.a)(k,2),x=(w[0],w[1]);return r.a.createElement("div",{style:p.container},r.a.createElement(u.b,{style:p.card},r.a.createElement(u.d,{title:"UNLABELLED for restaurants"}),r.a.createElement(u.c,{style:p.content},r.a.createElement(u.f,{placeholder:"restaurant name",value:n,onChange:function(e){return o(e.target.value)}}),r.a.createElement("div",{style:{flexDirection:"row"}},r.a.createElement(u.f,{placeholder:"lattitude",value:h,onChange:function(e){return b({lat:e.target.value,lng:j})}}),r.a.createElement(u.f,{placeholder:"longitude",value:j,onChange:function(e){return b({lat:h,lng:e.target.value})}})),r.a.createElement(f,{currentTypes:E,foodTypes:m,setTypes:O}),r.a.createElement(u.a,{onClick:function(){""===n||""===h||""===j?alert("Please enter all the fields."):g({name:n,latLng:d,types:E}).then(function(e){if(console.log(e),e.error)return alert(e.error),null;x({restaurant:n,token:e.token})})}},"Register"))))},v=["Burger","Kebab","Pizza"];var y=function(){var e=Object(a.useContext)(s),t=Object(c.a)(e,2),n=t[0],o=n.restaurantName,l=(n.token,t[1]);return r.a.createElement("div",{style:{flex:1,alignItems:"center",justifyContent:"center",paddingTop:"200px",alignSelf:"center"}},r.a.createElement("h4",null," !!!! + ",o),r.a.createElement(f,{foodTypes:v,currentTypes:["Kebab","Pizza"],setTypes:function(){}}),r.a.createElement(u.a,{onClick:function(){l({token:null,restaurant:""})}},"LOG OUT"))};var E=function(){var e=Object(a.useState)({token:null,restaurantName:null,loggedIn:!1}),t=Object(c.a)(e,2),n=t[0],o=t[1],l=Object(i.a)(["token","restaurant"]),u=Object(c.a)(l,3),d=u[0],f=u[1],m=(u[2],function(e){var t=e.token,n=e.restaurant;o({token:t,restaurantName:n}),f("token",t),f("restaurant",n)});return Object(a.useEffect)(function(){m(d)},[]),console.log("Cookies r",d),r.a.createElement(s.Provider,{value:[n,m]},n.token?r.a.createElement(y,null):r.a.createElement(b,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[165,1,2]]]);
//# sourceMappingURL=main.a75b83e0.chunk.js.map