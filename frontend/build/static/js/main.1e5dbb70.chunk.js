(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{166:function(e,t,n){e.exports=n(277)},171:function(e,t,n){},173:function(e,t,n){},277:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(23),l=n.n(r),o=(n(171),n(11)),c=n(72),m=(n(173),n(3)),s=Object(a.createContext)({restaurantName:"",token:null,loggedIn:!1}),u=n(43),d=function(e){var t=e.currentTypes,n=e.setTypes,a=e.foodTypes;return i.a.createElement("div",{style:{flexDirection:"row",padding:8}},a.map(function(e){return i.a.createElement(m.f,{key:e,onClick:function(){t.includes(e)?(t.splice(t.indexOf(e),1),n(Object(u.a)(t))):n([].concat(Object(u.a)(t),[e]))},label:e,variant:t.includes(e)?"default":"outlined",padding:4})}))},p=["Burger","Kebab","Pizza"],g=function(e){var t=e.name,n=e.latLng,a=e.types;return fetch("/restaurant/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t,location:n,foodTypes:a})}).then(function(e){return e.json()})};var f={container:{flex:1,alignItems:"center",justifyContent:"center",height:!1,paddingTop:"200px",alignSelf:"center"},card:{flexDirection:"column",width:"400px"},content:{flexDirection:"column"}},E=function(){var e=Object(a.useState)(""),t=Object(o.a)(e,2),n=t[0],r=t[1],l=Object(a.useState)({lat:"",lng:""}),c=Object(o.a)(l,2),u=c[0],E=c[1],v=Object(a.useState)([]),y=Object(o.a)(v,2),h=y[0],b=y[1],x=u.lat,O=u.lng,j=Object(a.useContext)(s),k=Object(o.a)(j,2),w=(k[0],k[1]);return i.a.createElement("div",{style:f.container},i.a.createElement(m.b,{style:f.card},i.a.createElement(m.d,{title:"UNLABELLED for restaurants"}),i.a.createElement(m.c,{style:f.content},i.a.createElement(m.g,{placeholder:"restaurant name",value:n,onChange:function(e){return r(e.target.value)}}),i.a.createElement("div",{style:{flexDirection:"row"}},i.a.createElement(m.g,{placeholder:"lattitude",value:x,onChange:function(e){return E({lat:e.target.value,lng:O})}}),i.a.createElement(m.g,{placeholder:"longitude",value:O,onChange:function(e){return E({lat:x,lng:e.target.value})}})),i.a.createElement(d,{currentTypes:h,foodTypes:p,setTypes:b}),i.a.createElement(m.a,{onClick:function(){""===n||""===x||""===O?alert("Please enter all the fields."):g({name:n,latLng:u,types:h}).then(function(e){if(console.log(e),e.error)return alert(e.error),null;w({restaurant:n,token:e.token})})}},"Register"))))},v=n(44),y=["Burger","Kebab","Pizza"],h=[{name:"Pizza ORDER",picture:"https://upload.wikimedia.org/wikipedia/commons/a/a3/Eq_it-na_pizza-margherita_sep2005_sml.jpg",deliverTime:"30 minutes"},{name:"Food ORDER",picture:"https://upload.wikimedia.org/wikipedia/commons/a/a3/Eq_it-na_pizza-margherita_sep2005_sml.jpg",deliverTime:"30 minutes"},{name:"Food ORDER",picture:"https://upload.wikimedia.org/wikipedia/commons/a/a3/Eq_it-na_pizza-margherita_sep2005_sml.jpg",deliverTime:"30 minutes"},{name:"Food ORDER",picture:"https://upload.wikimedia.org/wikipedia/commons/a/a3/Eq_it-na_pizza-margherita_sep2005_sml.jpg",deliverTime:"30 minutes"},{name:"Food ORDER",picture:"https://upload.wikimedia.org/wikipedia/commons/a/a3/Eq_it-na_pizza-margherita_sep2005_sml.jpg",deliverTime:"30 minutes"}],b=function(e){var t=e.name,n=e.picture,a=e.deliverTime;return i.a.createElement(m.b,{style:{flexDirection:"column"}},i.a.createElement(m.e,{component:"img",alt:"Contemplative Reptile",height:"140px",image:n,title:"Contemplative Reptile"}),i.a.createElement(m.c,{style:{flexDirection:"column",alignItems:"center"}},i.a.createElement("div",{style:{fontSize:23,paddingBottom:8}},t),i.a.createElement("div",{style:{paddingBottom:8}},"Delivery ",a),i.a.createElement("div",{style:{flexDirection:"row"}},i.a.createElement(m.a,{style:{flex:1}},"Accept"),i.a.createElement(m.a,{style:{flex:1}},"Decline"))))},x=function(e){var t=e.name,n=e.picture,a=e.deliverTime;return i.a.createElement(m.b,{style:{flexDirection:"column"}},i.a.createElement(m.e,{component:"img",alt:"Contemplative Reptile",height:"140px",image:n,title:"Contemplative Reptile"}),i.a.createElement(m.c,{style:{flexDirection:"column",alignItems:"center",paddingBottom:"0px !important"}},i.a.createElement("div",{style:{fontSize:23,paddingBottom:8}},t),i.a.createElement("div",{style:{paddingBottom:8}},"Delivery ",a),i.a.createElement(m.a,null,"Ship it")))};var O={grid:{display:"grid",gridTemplateColumns:"200px 200px",gridColumnGap:"10px",gridRowGap:"10px"},gridContainer:{flex:1,flexDirection:"column",justifyContent:"center"}},j=function(){var e=Object(a.useContext)(s),t=Object(o.a)(e,2),n=t[0].restaurantName,r=t[1];return Object(a.useEffect)(function(){var e=new WebSocket("/ws");console.log(e),e.addEventListener("message",function(e){console.log(e)})},[]),i.a.createElement("div",{style:{flex:1,alignItems:"center",justifyContent:"center",alignSelf:"center",flexDirection:"column"}},i.a.createElement("h4",null," !!!! + ",n),i.a.createElement(d,{foodTypes:y,currentTypes:["Kebab","Pizza"],setTypes:function(){}}),i.a.createElement("div",{style:{flexDirection:"row"}},i.a.createElement("div",{style:O.gridContainer},i.a.createElement("h4",null,"Incoming orders"),i.a.createElement("div",{style:Object(v.a)({paddingRight:89},O.grid)},h.map(b))),i.a.createElement("div",{style:{flexDirection:"column"}},i.a.createElement("h4",null,"Accepted Orders"),i.a.createElement("div",{style:Object(v.a)({},O.grid)},h.map(x)))),i.a.createElement(m.a,{onClick:function(){r({token:null,restaurant:""})}},"LOG OUT"))};var k=function(){var e=Object(a.useState)({token:void 0,restaurantName:null,loggedIn:!1}),t=Object(o.a)(e,2),n=t[0],r=t[1],l=Object(c.a)(["token","restaurant"]),m=Object(o.a)(l,2),u=m[0],d=m[1],p=function(e){var t=e.token,n=e.restaurant;r({token:t,restaurantName:n}),d("token",t),d("restaurant",n)};return Object(a.useEffect)(function(){p(u)},[]),console.log(n.token),null===n.token&&console.log("ITS NULL"),i.a.createElement(s.Provider,{value:[n,p]},null!==n.token?i.a.createElement(j,null):i.a.createElement(E,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(i.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[166,1,2]]]);
//# sourceMappingURL=main.1e5dbb70.chunk.js.map